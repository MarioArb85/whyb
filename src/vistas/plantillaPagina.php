<?phpclass plantillaPagina {  private $titulo;  // el título (etiqueta <title>) de la página  private $cabecera;  // la cabecera de la página (dentro del <body>)  private $contenido;  // el contenido de la página (dentro del <body>, después de la cabecera)  private $pie;  // el pie de la página (dentro del <body>, después del contenido)  private $pagina;  // todo lo anterior junto    function __construct($titulo="", $cabecera="", $contenido, $pie="") {    global $firephp;    $css = "/whyb/web/css/estilos.css";    $this->pagina = <<<HTML<html><head>  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />  <title>$titulo</title>  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>  <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>  <script type="text/javascript" src="/whyb/vendor/paginate/jquery.paginate.js" ></script>  <link href="$css" rel="stylesheet" type="text/css"/>  <script type='text/javascript'>    $(document).ready(function(){      //Actualizar por ajax sitios Unesco      $('#updateListBtn').click(function(){        //Seleccionar categoria        var category = [];        if ($('#checkCat1').is(":checked")) {          category.push($("#checkCat1").val());        }        if ($('#checkCat2').is(":checked")) {          category.push($("#checkCat2").val());        }        if ($('#checkCat3').is(":checked")) {          category.push($("#checkCat3").val());        }            //Seleccionar continente        var continent = [];        if ($('#placesContinent').css('display') != 'none') {          if ($('#checkCont1').is(":checked")) {            continent.push($("#checkCont1").val());          }          if ($('#checkCont2').is(":checked")) {            continent.push($("#checkCont2").val());          }          if ($('#checkCont3').is(":checked")) {            continent.push($("#checkCont3").val());          }          if ($('#checkCont4').is(":checked")) {            continent.push($("#checkCont4").val());          }          if ($('#checkCont5').is(":checked")) {            continent.push($("#checkCont5").val());          }          if ($('#checkCont6').is(":checked")) {            continent.push($("#checkCont6").val());          }          if ($('#checkCont7').is(":checked")) {            continent.push($("#checkCont7").val());          }        }        //Seleccionar pais        if ($('#placesCountry').css('display') != 'none' && $("#selCountries").val()!= 'noCountry' )          var country = $("#selCountries").val();        //Funcion ajax                $.ajax({          url: '/whyb/src/vistas/places/prueba.php',          type: 'POST',          data: {                func: 'result',                categoria: category,                continente: continent,                pais: country                },                          dataType: 'json',          success: function(resultado) {            $('#results').html(resultado[0]);            //Paginate            $("#paginacion").paginate({              count     : resultado[1],              start     : 1,              display     : resultado[2],              border          : true,              border_color      : '#fff',              text_color        : '#fff',              background_color      : 'black',                border_hover_color    : '#ccc',              text_hover_color      : '#000',              background_hover_color  : '#fff',               images          : false,              mouse         : 'press',              onChange          : function(page){                            $('._current','#results').removeClass('_current').hide();                            $('#p'+page).addClass('_current').show();                            }            });          },          beforeSend: function() {            $('#results').html('Cargando...');          }        });      });      //Actualizar por ajax mapa Unesco      $('#updateListBtnMap').click(function(){                clearOverlays();        //Seleccionar categoria        var category = [];        if ($('#checkCat1').is(":checked")) {          category.push($("#checkCat1").val());        }        if ($('#checkCat2').is(":checked")) {          category.push($("#checkCat2").val());        }        if ($('#checkCat3').is(":checked")) {          category.push($("#checkCat3").val());        }            //Seleccionar continente        var continent = [];        if ($('#placesContinent').css('display') != 'none') {          if ($('#checkCont1').is(":checked")) {            continent.push($("#checkCont1").val());          }          if ($('#checkCont2').is(":checked")) {            continent.push($("#checkCont2").val());          }          if ($('#checkCont3').is(":checked")) {            continent.push($("#checkCont3").val());          }          if ($('#checkCont4').is(":checked")) {            continent.push($("#checkCont4").val());          }          if ($('#checkCont5').is(":checked")) {            continent.push($("#checkCont5").val());          }          if ($('#checkCont6').is(":checked")) {            continent.push($("#checkCont6").val());          }          if ($('#checkCont7').is(":checked")) {            continent.push($("#checkCont7").val());          }        }        //Seleccionar pais        if ($('#placesCountry').css('display') != 'none' && $("#selCountries").val()!= 'noCountry' )          var country = $("#selCountries").val();        //Funcion ajax                $.ajax({          url: '/whyb/src/vistas/places/prueba.php',          type: 'POST',          data: {                func: 'map',                categoria: category,                continente: continent,                pais: country                },                          dataType: 'json',          success: function(resultado) {            $.each(resultado, function(){              //Nuevo marcador              var marker = new google.maps.Marker({                position: new google.maps.LatLng(this.lat, this.lng),                icon: this.icon,                map: map,                title: this.title              });              //Para pasar parametro al onclick              var img = this.img;              //Meter marker en array de marcadores              markersArray.push(marker);              //nuevo infowindow              infoWindow = new google.maps.InfoWindow();              //Onclick              google.maps.event.addListener(marker, 'click', function() {                map.setZoom(5);                map.setCenter(marker.getPosition());                infoWindow.open(map, marker);                openInfoWindow(marker, this.title, img);              });            });            map.setCenter(markersArray[markersArray.length-1].getPosition());            map.setZoom(4);          },        });      });    });  </script>  <script type='text/javascript'>    //Variables para markers    var map = null;    var markersArray = new Array();    var infoWindow = null;     function ocultar(){      var continentes = document.getElementById('placesContinent');      var paises = document.getElementById('placesCountry');            if (paises.style.display == null || paises.style.display == 'none'){        paises.style.display = 'block';        continentes.style.display = 'none';      }      else {        paises.style.display = 'none';        continentes.style.display = 'block';      }    }    function initialize() {      if (document.getElementById("map")){        var mapOptions = {          center: new google.maps.LatLng(20, 10),          zoom: 2,          mapTypeId: google.maps.MapTypeId.ROADMAP        };        map = new google.maps.Map(document.getElementById("map"), mapOptions);        google.maps.event.addListener(map, 'click', function(){          closeInfoWindow();        });      }    }    function clearOverlays() {      for (var i = 0; i < markersArray.length; i++ ) {        markersArray[i].setMap(null);      }      markersArray.length = 0;    }    function closeInfoWindow() {      infoWindow.close();    }     function openInfoWindow(marker,title,image) {      var markerLatLng = marker.getPosition();      infoWindow.setContent(['<h3>'+title+'</h3><img src="'+image+'"/>'].join(''));      infoWindow.open(map, marker);    }  </script></head>  <body onload='initialize()'>$cabecera $contenido $pie</body></html>HTML; }    function mostrar() {    //print $this->pagina;    return $this->pagina;  }}?> 